(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{267:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=n(2),l=n(29),s=n(55),u=n(39),d=n(72),p=n(3),f=n(6),h=n(89),m=n(8),w=n.n(m);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEWS":return b(b({},e),{},{news:t.payload,refreshing:!1});case"REFRESHING_TRUE":return b(b({},e),{},{refreshing:!0});case"REFRESHING_FALSE":return b(b({},e),{},{refreshing:!1});default:return e}},y=n(17),S=n.n(y),O=function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(fetch("http://192.168.1.12:4000/api/news").then((function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw Error(e.status);case 2:return t.next=4,S.a.awrap(e.json());case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),null,null,null,Promise)})).then((function(t){e({type:"FETCH_NEWS",payload:t}),e({type:"REFRESHING_FALSE"})})).catch((function(t){console.log("getNews err - ",t),e({type:"REFRESHING_TRUE"}),v(e)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)},v=function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetching from github..."),t.next=3,S.a.awrap(fetch("https://raw.githubusercontent.com/LexaPetrov/rn-digital-news/master/backend/fetch.json").then((function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw Error(e.status);case 2:return t.next=4,S.a.awrap(e.json());case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),null,null,null,Promise)})).then((function(t){e({type:"FETCH_NEWS",payload:t}),e({type:"REFRESHING_FALSE"})})).catch((function(e){console.error("getNewsFromGithub ERROR - ",e)})));case 3:case"end":return t.stop()}}),null,null,null,Promise)},k=function(e){var t=Object(a.useReducer)(E,{news:[],refreshing:!0}),n=i()(t,2),o=n[0],p=n[1];Object(a.useEffect)((function(){O(p)}),[]);var m=function(t){return r.a.createElement(d.a,{onPress:function(){return function(t){var n={text:t.text,title:t.title,date:t.date};e.navigation.navigate("Post",{screen:"Post",info:n,headerBackTitle:"\u041d\u0430\u0437\u0430\u0434"})}(t)}},r.a.createElement(c.a,{style:[x.newsItem]},r.a.createElement(l.a,{style:x.newsTitle,numberOfLines:1},t.title),r.a.createElement(s.a,{source:{uri:t.img},style:x.newsImage}),r.a.createElement(l.a,{style:x.newsDate},t.date)))};return"web"===f.a.OS?r.a.createElement(u.a,null,r.a.createElement(c.a,{style:x.newsContainer},o.news.map((function(e,t){return r.a.createElement(c.a,{key:t,style:[x.shadow,x.whiteBackground]},m(e))})))):r.a.createElement(c.a,{style:x.wrapper},"web"!==f.a.OS&&o.news&&r.a.createElement(h.a,{data:0!==o.news.length?o.news:null,renderItem:function(e){var t=e.item;return r.a.createElement(c.a,{style:x.newsContainer},r.a.createElement(c.a,{style:[x.shadow,x.whiteBackground]},m(t)))},keyExtractor:function(e){return e.date},refreshing:o.refreshing,onRefresh:function(){p({type:"REFRESHING_TRUE"}),O(p),p({type:"REFRESHING_FALSE"})}}))};k.navigationOptions={headerTitle:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"};var x=p.a.create({wrapper:{flex:1,flexDirection:"web"===f.a.OS?"row":null,flexWrap:"web"===f.a.OS?"wrap":null},loader:{backgroundColor:"green",color:"white",alignSelf:"stretch",textAlign:"center"},shadow:{shadowColor:"black",shadowRadius:3,shadowOffset:{width:0,height:0},shadowOpacity:.2,elevation:3},newsContainer:{minWidth:300,maxWidth:"web"===f.a.OS?"100%":null,justifyContent:"center",alignItems:"center",paddingHorizontal:0,display:"web"===f.a.OS?"flex":null,flexDirection:"web"===f.a.OS?"row":null,flexWrap:"web"===f.a.OS?"wrap":null},newsImage:{minWidth:(f.a.OS,"100%"),height:(f.a.OS,200)},newsItem:{minWidth:300,padding:5,overflow:"hidden"},newsTitle:{maxWidth:"web"===f.a.OS?300:"100%",minWidth:300,fontSize:16,color:"#00185c",fontWeight:"bold"},newsDate:{fontSize:12,padding:3,backgroundColor:"black",color:"white",borderRadius:5,width:150,marginTop:2,overflow:"hidden",textAlign:"center"},whiteBackground:{backgroundColor:"white",marginVertical:10,marginHorizontal:10}}),T=k,R=n(41),P=n(56),j=n(158),C=p.a.create({feedbackWrapper:{padding:10,maxWidth:"web"===f.a.OS?700:null,alignSelf:"web"===f.a.OS?"center":null},textInpit:{marginTop:10,borderColor:"#ccc",borderWidth:2,borderRadius:5,height:50,padding:10,textAlignVertical:"top",fontSize:20},feedbackButton:{paddingTop:50}}),W=function(e){var t=Object(a.useState)(""),n=i()(t,2),o=n[0],s=n[1],u=Object(a.useState)(""),d=i()(u,2),p=d[0],f=d[1],h=Object(a.useState)(""),m=i()(h,2),w=m[0],g=m[1];return r.a.createElement(j.a,null,r.a.createElement(c.a,{style:C.feedbackWrapper},r.a.createElement(l.a,{style:{color:"#a0a0a0"}},"\u2757\u0412 \u0446\u0435\u043b\u044f\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0438 \u0432\u0441\u0435\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u043e\u043a\u0438, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432 \u0442\u0435\u043a\u0441\u0442\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0433\u043e \u0432\u0430\u043c\u0438 \u043c\u0435\u0441\u0442\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u0444\u0430\u043a\u0442\u0430 \u0438\u043b\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u0434\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f."),r.a.createElement(R.a,{style:C.textInpit,placeholder:"\u0424\u0418\u041e",onChangeText:function(e){return s(e)},defaultValue:o}),r.a.createElement(R.a,{style:C.textInpit,placeholder:"e-mail",onChangeText:function(e){return f(e)},defaultValue:p}),r.a.createElement(R.a,{style:[C.textInpit,{height:200}],placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",multiline:!0,onChangeText:function(e){return g(e)},defaultValue:w}),r.a.createElement(c.a,{style:C.feedbackButton},r.a.createElement(P.a,{title:"\ud83d\udceb \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onPress:function(){return e=[o,p,w],void console.log("sendMessage - ",e);var e}}))))},I=n(129),F=p.a.create({container:{padding:10,maxWidth:"web"===f.a.OS?700:null,alignSelf:"web"===f.a.OS?"center":null},link:{marginTop:15}}),N=function(e){var t=function(e){I.a.openURL(e)};return r.a.createElement(j.a,null,r.a.createElement(c.a,{style:F.container},r.a.createElement(c.a,{style:F.link},r.a.createElement(P.a,{title:"\ud83d\ude4d\u200d\u2642\ufe0f \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d",onPress:function(){return t("https://ag.orb.ru/")}})),r.a.createElement(c.a,{style:F.link},r.a.createElement(P.a,{title:"\ud83d\udd10 \u0423\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0439 \u0446\u0435\u043d\u0442\u0440",onPress:function(){return t("https://cit.orb.ru/ucit/")}})),r.a.createElement(c.a,{style:F.link},r.a.createElement(P.a,{title:"\ud83d\udda5 \u0423\u0441\u043b\u0443\u0433\u0438 \u0432 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u043c \u0432\u0438\u0434\u0435",onPress:function(){return t("https://www.gosuslugi.ru/")}})),r.a.createElement(c.a,{style:F.link},r.a.createElement(P.a,{title:"\ud83d\udcbe \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",onPress:function(){return t("http://smev.orb.ru/informacionnye-sistemy/")}})),r.a.createElement(c.a,{style:F.link},r.a.createElement(P.a,{title:"\ud83d\udcc8 \u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u041e\u041c\u0421\u0423",onPress:function(){return t("http://smev.orb.ru/statisticheskaya-informaciya/rating-omsu/")}})),r.a.createElement(c.a,{style:F.link},r.a.createElement(P.a,{title:"\ud83d\udd17 \u041c\u0418\u041d\u0426\u0418\u0424\u0420\u0410",onPress:function(){return t("https://digital.orb.ru/")}}))))},B=p.a.create({postWrapper:{padding:10,maxWidth:"web"===f.a.OS?700:null,alignSelf:"web"===f.a.OS?"center":null},postTitle:{fontWeight:"bold",fontSize:18},postDate:{fontSize:10,padding:3,backgroundColor:"black",color:"white",borderRadius:5,width:140,marginTop:2,overflow:"hidden",textAlign:"center"},postText:{fontSize:14}}),z=function(e){var t=e.route.params.info;e.navigation.setOptions({headerTitle:t.title});return r.a.createElement(u.a,null,r.a.createElement(c.a,{style:B.postWrapper},r.a.createElement(l.a,{style:B.postTitle},t.title),r.a.createElement(l.a,{style:B.postDate},t.date),r.a.createElement(l.a,{style:B.postText},t.text.replace(/\n+/g,"\n"))))},H=n(65),L=n(432),D=n(431),_=n(238),A=n(433),G=n(430),V=Object(L.a)(),U=Object(D.a)(),J=function(e){switch(e.state?e.state.routes[e.state.index].name:"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056: \u0421\u043e\u0431\u044b\u0442\u0438\u044f"){case"News":return"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056: \u0421\u043e\u0431\u044b\u0442\u0438\u044f \ud83c\udf88";case"Feedback":return"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056: \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u0440\u0438\u0435\u043c\u043d\u0430\u044f \ud83d\udcdd";case"Services":return"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056:\u0421\u0435\u0440\u0432\u0438\u0441\u044b \ud83d\udee0";case"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056: \u0421\u043e\u0431\u044b\u0442\u0438\u044f":return"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056: \u0421\u043e\u0431\u044b\u0442\u0438\u044f \ud83c\udf88"}};function M(e){var t=e.navigation,n=e.route;return t.setOptions({headerTitle:J(n)}),r.a.createElement(V.Navigator,{tabBarOptions:{activeTintColor:"#00185c",inactiveTintColor:"gray",labelStyle:{fontSize:12,margin:0,padding:0,paddingLeft:0},labelPosition:"below-icon"}},r.a.createElement(V.Screen,{options:{tabBarLabel:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f",tabBarIcon:function(e){var t=e.focused;return r.a.createElement(A.a,{name:"newspaper",size:20,color:t?"#00185c":"gray"})}},name:"News",component:T}),r.a.createElement(V.Screen,{options:{tabBarLabel:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",tabBarIcon:function(e){var t=e.focused;return r.a.createElement(G.a,{name:"feedback",size:20,color:t?"#00185c":"gray"})}},name:"Feedback",component:W}),r.a.createElement(V.Screen,{options:{tabBarLabel:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b",tabBarIcon:function(e){var t=e.focused;return r.a.createElement(A.a,{name:"external-link-alt",size:20,color:t?"#00185c":"gray"})}},name:"Services",component:N}))}function q(){return r.a.createElement(_.a,null,r.a.createElement(H.a,{barStyle:"ios"===f.a.OS?"dark-content":"light-content",backgroundColor:"android"===f.a.OS?"#00185c":"white"}),r.a.createElement(U.Navigator,null,r.a.createElement(U.Screen,{name:"#\u043c\u0438\u043d\u0446\u0438\u0444\u0440\u043056",component:M,options:{headerStyle:{backgroundColor:"android"===f.a.OS?"#00185c":"white"},headerTintColor:"android"===f.a.OS?"white":"#00185c",headerTruncatedBackTitle:!1}}),r.a.createElement(U.Screen,{name:"Post",component:z,options:{headerStyle:{backgroundColor:"android"===f.a.OS?"#00185c":"white"},headerTintColor:"android"===f.a.OS?"white":"#00185c",headerTitle:"Post",headerTruncatedBackTitle:!1}})))}},272:function(e,t,n){n(273),e.exports=n(418)},273:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[272,1,2]]]);
//# sourceMappingURL=app.def66789.chunk.js.map